<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Report Definition -->
    <record id="action_property_sales_offer_report" model="ir.actions.report">
        <field name="name">Property Sales Offer</field>
        <field name="model">property.details</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">rental_management.property_sales_offer_report_template</field>
        <field name="report_file">rental_management.property_sales_offer_report_template</field>
        <field name="binding_model_id" ref="model_property_details"/>
        <field name="binding_type">report</field>
        <field name="paperformat_id" ref="base.paperformat_euro"/>
    </record>

    <!-- Comprehensive Property Sales Offer Report Template -->
    <template id="property_sales_offer_report_template" name="Property Sales Offer Report">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="web.external_layout">
                    <div class="page" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">

                        <!-- Cover Page Header -->
                        <div class="text-center mb-5" style="padding: 30px 0; border-bottom: 4px solid #800020;">
                            <h1 style="color: #800020; font-size: 3.5rem; font-weight: bold; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 2px;">
                                Property Sales Offer
                            </h1>
                            <div style="font-size: 1.2rem; color: #666; margin-top: 10px;">
                                Comprehensive Property Information &amp; Payment Plan
                            </div>
                        </div>

                        <!-- Main Property Image -->
                        <t t-if="doc.image">
                            <div class="text-center mb-5">
                                <img t-att-src="image_data_uri(doc.image)" style="width: 100%; max-width: 900px; height: 500px; object-fit: cover; border: 4px solid #800020; border-radius: 12px; box-shadow: 0 8px 16px rgba(0,0,0,0.2);" alt="Property Main Image"/>
                            </div>
                        </t>

                        <!-- Property Title & Code -->
                        <div class="text-center mb-5" style="background: linear-gradient(135deg, #800020 0%, #a00030 100%); padding: 25px; border-radius: 10px; color: white;">
                            <h2 style="font-size: 2.5rem; font-weight: bold; margin: 0;">
                                <span t-field="doc.name"/>
                            </h2>
                            <div style="font-size: 1.1rem; margin-top: 10px; opacity: 0.9;">
                                Property Code: <strong>
                                <span t-field="doc.property_seq"/>
                            </strong>
                            <t t-if="doc.property_project_id">
                                    | Project: <strong>
                                <span t-field="doc.property_project_id"/>
                            </strong>
                        </t>
                    </div>
                </div>

                <!-- Key Highlights Section -->
                <div class="mb-4">
                    <h3 style="background-color: #800020; color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                        <i class="fa fa-star" style="margin-right: 8px;"></i>Key Highlights
                    </h3>
                    <div style="border: 3px solid #800020; border-top: none; padding: 20px; background-color: #f8f9fa; border-radius: 0 0 8px 8px;">
                        <div class="row">
                            <div class="col-6 mb-3">
                                <div style="background: white; padding: 15px; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                    <div style="color: #666; font-size: 0.9rem; margin-bottom: 5px;">Property Type</div>
                                    <div style="font-weight: bold; font-size: 1.2rem; color: #800020;">
                                        <span t-field="doc.type"/>
                                        <t t-if="doc.property_subtype_id"> -                                            <span t-field="doc.property_subtype_id"/>
                                        </t>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 mb-3">
                                <div style="background: white; padding: 15px; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                    <div style="color: #666; font-size: 0.9rem; margin-bottom: 5px;">Sale Price</div>
                                    <div style="font-weight: bold; font-size: 1.5rem; color: #28a745;">
                                        <span t-field="doc.price" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-3 mb-3">
                                <div style="background: white; padding: 15px; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;">
                                    <div style="font-size: 2rem; color: #800020; font-weight: bold;">
                                        <span t-field="doc.bed"/>
                                    </div>
                                    <div style="color: #666; font-size: 0.9rem;">Rooms</div>
                                </div>
                            </div>
                            <div class="col-3 mb-3">
                                <div style="background: white; padding: 15px; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;">
                                    <div style="font-size: 2rem; color: #800020; font-weight: bold;">
                                        <span t-field="doc.bathroom"/>
                                    </div>
                                    <div style="color: #666; font-size: 0.9rem;">Bathrooms</div>
                                </div>
                            </div>
                            <div class="col-3 mb-3">
                                <div style="background: white; padding: 15px; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;">
                                    <div style="font-size: 2rem; color: #800020; font-weight: bold;">
                                        <span t-field="doc.parking"/>
                                    </div>
                                    <div style="color: #666; font-size: 0.9rem;">Parking</div>
                                </div>
                            </div>
                            <div class="col-3 mb-3">
                                <div style="background: white; padding: 15px; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;">
                                    <div style="font-size: 1.5rem; color: #800020; font-weight: bold;">
                                        <span t-field="doc.total_area"/>
                                        <span t-field="doc.measure_unit"/>
                                    </div>
                                    <div style="color: #666; font-size: 0.9rem;">Total Area</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Property Description Section -->
                <t t-if="doc.description">
                    <div class="mb-4">
                        <h3 style="background-color: #800020; color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                            <i class="fa fa-align-left" style="margin-right: 8px;"></i>Property Description
                        </h3>
                        <div style="border: 3px solid #800020; border-top: none; padding: 20px; background-color: white; border-radius: 0 0 8px 8px;">
                            <p style="font-size: 1.1rem; line-height: 1.8; color: #333; margin: 0;">
                                <span t-field="doc.description"/>
                            </p>
                        </div>
                    </div>
                </t>

                <!-- Location Details Section -->
                <div class="mb-4">
                    <h3 style="background-color: #800020; color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                        <i class="fa fa-map-marker" style="margin-right: 8px;"></i>Location Details
                    </h3>
                    <table class="table" style="border: 3px solid #800020; margin: 0; background-color: white; border-radius: 0 0 8px 8px;">
                        <tbody>
                            <t t-if="doc.region_id">
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="width: 25%; padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Region</td>
                                    <td style="padding: 15px; font-size: 1.1rem;" colspan="3">
                                        <span t-field="doc.region_id"/>
                                    </td>
                                </tr>
                            </t>
                            <t t-if="doc.property_project_id">
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Project</td>
                                    <td style="padding: 15px; font-size: 1.1rem;">
                                        <span t-field="doc.property_project_id"/>
                                    </td>
                                    <t t-if="doc.subproject_id">
                                        <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Sub Project</td>
                                        <td style="padding: 15px; font-size: 1.1rem;">
                                            <span t-field="doc.subproject_id"/>
                                        </td>
                                    </t>
                                </tr>
                            </t>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Address</td>
                                <td style="padding: 15px; font-size: 1.1rem;" colspan="3">
                                    <t t-if="doc.street">
                                        <span t-field="doc.street"/>
                                        <br/>
                                    </t>
                                    <t t-if="doc.street2">
                                        <span t-field="doc.street2"/>
                                        <br/>
                                    </t>
                                    <t t-if="doc.city_id">
                                        <span t-field="doc.city_id.name"/>
, 
                                    </t>
                                    <t t-if="doc.zip">
                                        <span t-field="doc.zip"/>
                                        <br/>
                                    </t>
                                    <t t-if="doc.state_id">
                                        <span t-field="doc.state_id.name"/>
, 
                                    </t>
                                    <t t-if="doc.country_id">
                                        <span t-field="doc.country_id.name"/>
                                    </t>
                                </td>
                            </tr>
                            <t t-if="doc.latitude and doc.longitude">
                                <tr>
                                    <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Coordinates</td>
                                    <td style="padding: 15px; font-size: 1.1rem;" colspan="3">
                                                Latitude: <span t-field="doc.latitude"/>
 | Longitude: <span t-field="doc.longitude"/>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>

            <!-- Property Specifications Section -->
            <div class="mb-4">
                <h3 style="background-color: #800020; color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                    <i class="fa fa-building" style="margin-right: 8px;"></i>Property Specifications
                </h3>
                <table class="table" style="border: 3px solid #800020; margin: 0; background-color: white; border-radius: 0 0 8px 8px;">
                    <tbody>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="width: 25%; padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Total Area</td>
                            <td style="width: 25%; padding: 15px; font-size: 1.1rem; border-right: 2px solid #ddd;">
                                <strong style="color: #800020;">
                                    <span t-field="doc.total_area"/>
                                    <span t-field="doc.measure_unit"/>
                                </strong>
                            </td>
                            <td style="width: 25%; padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Usable Area</td>
                            <td style="width: 25%; padding: 15px; font-size: 1.1rem;">
                                <strong style="color: #800020;">
                                    <span t-field="doc.usable_area"/>
                                    <span t-field="doc.measure_unit"/>
                                </strong>
                            </td>
                        </tr>
                        <t t-if="doc.type == 'residential'">
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">BHK Type</td>
                                <td style="padding: 15px; font-size: 1.1rem; border-right: 2px solid #ddd;">
                                    <span t-field="doc.unit_type"/>
 BHK
                                </td>
                                <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Furnishing</td>
                                <td style="padding: 15px; font-size: 1.1rem;">
                                    <span t-field="doc.furnishing_id"/>
                                </td>
                            </tr>
                        </t>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Total Floors</td>
                            <td style="padding: 15px; font-size: 1.1rem; border-right: 2px solid #ddd;">
                                <span t-field="doc.total_floor"/>
                            </td>
                            <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Floor Number</td>
                            <td style="padding: 15px; font-size: 1.1rem;">
                                <span t-field="doc.floor"/>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Facing Direction</td>
                            <td style="padding: 15px; font-size: 1.1rem; border-right: 2px solid #ddd;">
                                <span t-field="doc.facing"/>
                            </td>
                            <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">Status</td>
                            <td style="padding: 15px; font-size: 1.1rem;">
                                <span class="badge badge-success" style="font-size: 1rem; padding: 8px 12px;">
                                    <span t-field="doc.stage"/>
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Room Measurements Section (if available) -->
            <t t-if="doc.is_section_measurement and doc.room_measurement_ids">
                <div class="mb-4">
                    <h3 style="background-color: #800020; color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                        <i class="fa fa-expand" style="margin-right: 8px;"></i>Room-wise Area Breakdown
                    </h3>
                    <table class="table" style="border: 3px solid #800020; margin: 0; background-color: white; border-radius: 0 0 8px 8px;">
                        <thead>
                            <tr style="background: linear-gradient(135deg, #800020 0%, #a00030 100%); color: white;">
                                <th style="padding: 15px; border-right: 1px solid white;">Room/Section</th>
                                <th style="padding: 15px; text-align: center; border-right: 1px solid white;">Units</th>
                                <th style="padding: 15px; text-align: center; border-right: 1px solid white;">Length</th>
                                <th style="padding: 15px; text-align: center; border-right: 1px solid white;">Width</th>
                                <t t-if="doc.measure_unit in ['cu_m','cu_ft']">
                                    <th style="padding: 15px; text-align: center; border-right: 1px solid white;">Height</th>
                                </t>
                                <th style="padding: 15px; text-align: center;">Area (<span t-field="doc.measure_unit"/>
)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="doc.room_measurement_ids" t-as="room">
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 15px; font-weight: bold; border-right: 2px solid #ddd;">
                                        <span t-field="room.section_id.name"/>
                                    </td>
                                    <td style="padding: 15px; text-align: center; border-right: 2px solid #ddd;">
                                        <span t-field="room.no_of_unit"/>
                                    </td>
                                    <td style="padding: 15px; text-align: center; border-right: 2px solid #ddd;">
                                        <span t-field="room.length"/>
                                    </td>
                                    <td style="padding: 15px; text-align: center; border-right: 2px solid #ddd;">
                                        <span t-field="room.width"/>
                                    </td>
                                    <t t-if="doc.measure_unit in ['cu_m','cu_ft']">
                                        <td style="padding: 15px; text-align: center; border-right: 2px solid #ddd;">
                                            <span t-field="room.height"/>
                                        </td>
                                    </t>
                                    <td style="padding: 15px; text-align: center; font-weight: bold; color: #800020;">
                                        <span t-field="room.carpet_area"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </t>

            <!-- Page Break Before Payment Plan -->
            <p style="page-break-before: always;"/>

            <!-- Payment Plan Section (for properties marked for sale with payment plans) -->
            <t t-if="doc.sale_lease == 'for_sale' and doc.is_payment_plan and doc.custom_payment_plan_line_ids">
                <div class="mb-4">
                    <div class="text-center mb-4">
                        <h1 style="color: #800020; font-size: 2.5rem; font-weight: bold; margin-bottom: 15px;">
                                        Flexible Payment Plan
                        </h1>
                        <hr style="border: 2px solid #800020; width: 50%; margin: 0 auto;"/>
                    </div>

                    <!-- Price Summary -->
                    <div class="mb-4">
                        <h3 style="background: linear-gradient(135deg, #800020 0%, #a00030 100%); color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                            <i class="fa fa-calculator" style="margin-right: 8px;"></i>Price Breakdown
                        </h3>
                        <table class="table" style="border: 3px solid #800020; margin: 0; background-color: white; border-radius: 0 0 8px 8px;">
                            <tbody>
                                <tr style="border-bottom: 2px solid #ddd;">
                                    <td style="width: 50%; padding: 18px; font-weight: bold; font-size: 1.2rem; background-color: #f8f9fa; border-right: 2px solid #ddd;">
                                        <i class="fa fa-home" style="margin-right: 8px; color: #800020;"></i>Base Sale Price
                                    </td>
                                    <td style="width: 50%; padding: 18px; text-align: right;">
                                        <strong style="color: #800020; font-size: 1.4rem;">
                                            <span t-field="doc.price" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                                        </strong>
                                    </td>
                                </tr>
                                <t t-if="doc.dld_fee_amount > 0">
                                    <tr style="border-bottom: 1px solid #ddd;">
                                        <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">
                                                        DLD Registration Fee (<span t-field="doc.dld_fee_percentage"/>
%)
                                        </td>
                                        <td style="padding: 15px; text-align: right; font-size: 1.1rem;">
                                            <span t-field="doc.dld_fee_amount" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                                        </td>
                                    </tr>
                                </t>
                                <t t-if="doc.admin_fee > 0">
                                    <tr style="border-bottom: 2px solid #ddd;">
                                        <td style="padding: 15px; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">
                                                        Administrative Fee
                                        </td>
                                        <td style="padding: 15px; text-align: right; font-size: 1.1rem;">
                                            <span t-field="doc.admin_fee" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                                        </td>
                                    </tr>
                                </t>
                                <tr style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
                                    <td style="padding: 20px; font-weight: bold; font-size: 1.3rem; border-right: 2px solid #ddd;">
                                        <i class="fa fa-check-circle" style="margin-right: 8px; color: #28a745;"></i>TOTAL AMOUNT (Including All Fees)
                                    </td>
                                    <td style="padding: 20px; text-align: right;">
                                        <strong style="color: #28a745; font-size: 1.6rem;">
                                            <span t-field="doc.total_with_fees" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                                        </strong>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Payment Schedule -->
                    <div class="mb-4">
                        <h3 style="background: linear-gradient(135deg, #800020 0%, #a00030 100%); color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                            <i class="fa fa-calendar-check-o" style="margin-right: 8px;"></i>Payment Schedule
                        </h3>
                        <table class="table" style="border: 3px solid #800020; margin: 0; background-color: white; border-radius: 0 0 8px 8px;">
                            <thead>
                                <tr style="background: linear-gradient(135deg, #800020 0%, #a00030 100%); color: white;">
                                    <th style="padding: 15px; width: 5%; text-align: center; border-right: 1px solid white;">#</th>
                                    <th style="padding: 15px; width: 30%; border-right: 1px solid white;">Milestone / Description</th>
                                    <th style="padding: 15px; width: 20%; border-right: 1px solid white;">Payment Type</th>
                                    <th style="padding: 15px; width: 15%; text-align: center; border-right: 1px solid white;">Terms</th>
                                    <th style="padding: 15px; width: 10%; text-align: center; border-right: 1px solid white;">%</th>
                                    <th style="padding: 15px; width: 20%; text-align: right;">Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-set="line_number" t-value="0"/>
                                <t t-foreach="doc.custom_payment_plan_line_ids" t-as="line">
                                    <t t-set="line_number" t-value="line_number + 1"/>
                                    <tr style="border-bottom: 1px solid #ddd;">
                                        <td style="padding: 15px; text-align: center; font-weight: bold; background-color: #f8f9fa; border-right: 2px solid #ddd;">
                                            <span style="color: #800020; font-size: 1.1rem;">
                                                <t t-esc="line_number"/>
                                            </span>
                                        </td>
                                        <td style="padding: 15px; border-right: 2px solid #ddd;">
                                            <strong style="font-size: 1.05rem;">
                                                <span t-field="line.name"/>
                                            </strong>
                                            <t t-if="line.note">
                                                <br/>
                                                <small style="color: #666; font-style: italic;">
                                                    <span t-field="line.note"/>
                                                </small>
                                            </t>
                                        </td>
                                        <td style="padding: 15px; border-right: 2px solid #ddd;">
                                            <span class="badge badge-info" style="font-size: 0.9rem; padding: 6px 10px;">
                                                <span t-field="line.payment_type"/>
                                            </span>
                                            <t t-if="line.payment_type == 'days_after_booking'">
                                                <br/>
                                                <small style="color: #666;">After <strong>
                                                    <span t-field="line.days_after"/>
                                                </strong> days</small>
                                        </t>
                                    </td>
                                    <td style="padding: 15px; text-align: center; border-right: 2px solid #ddd;">
                                        <t t-if="line.payment_type == 'post_handover' and line.installments > 1">
                                            <div style="font-weight: bold; color: #800020;">
                                                <span t-field="line.installments"/>
 installments
                                            </div>
                                            <small style="color: #666;">
                                                <span t-field="line.installment_frequency"/>
                                            </small>
                                        </t>
                                        <t t-else="">
                                            <span style="color: #666;">Single Payment</span>
                                        </t>
                                    </td>
                                    <td style="padding: 15px; text-align: center; font-weight: bold; font-size: 1.1rem; color: #800020; border-right: 2px solid #ddd;">
                                        <span t-field="line.percentage"/>
%
                                    </td>
                                    <td style="padding: 15px; text-align: right; font-weight: bold; font-size: 1.1rem; color: #28a745;">
                                        <span t-field="line.amount" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                        <tfoot>
                            <tr style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-top: 3px solid #800020;">
                                <td colspan="4" style="padding: 18px; text-align: right; font-weight: bold; font-size: 1.2rem; border-right: 2px solid #ddd;">
                                                    TOTAL:
                                </td>
                                <td style="padding: 18px; text-align: center; font-weight: bold; font-size: 1.2rem; color: #800020; border-right: 2px solid #ddd;">
                                                    100%
                                </td>
                                <td style="padding: 18px; text-align: right; font-weight: bold; font-size: 1.3rem; color: #28a745;">
                                    <span t-field="doc.total_with_fees" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>

                <!-- Payment Plan Benefits -->
                <div class="alert alert-info" style="background-color: #e8f4f8; border: 2px solid #17a2b8; border-radius: 8px; padding: 20px; margin-top: 20px;">
                    <h4 style="color: #117a8b; margin-bottom: 15px;">
                        <i class="fa fa-info-circle" style="margin-right: 8px;"></i>Payment Plan Benefits
                    </h4>
                    <ul style="margin: 0; padding-left: 20px; line-height: 1.8;">
                        <li>Flexible payment schedule tailored to construction milestones</li>
                        <li>Transparent pricing with all fees clearly mentioned</li>
                        <li>Easy installment options for post-handover payments</li>
                        <li>Secure payment processing through official channels</li>
                    </ul>
                </div>
            </div>
        </t>

        <!-- Page Break Before Features -->
        <p style="page-break-before: always;"/>

        <!-- Property Amenities Section -->
        <t t-if="doc.amenities and doc.amenities_ids">
            <div class="mb-4">
                <h3 style="background: linear-gradient(135deg, #800020 0%, #a00030 100%); color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                    <i class="fa fa-star" style="margin-right: 8px;"></i>Premium Amenities
                </h3>
                <div style="border: 3px solid #800020; border-top: none; padding: 20px; background-color: white; border-radius: 0 0 8px 8px;">
                    <div class="row">
                        <t t-foreach="doc.amenities_ids" t-as="amenity">
                            <div class="col-6 mb-3">
                                <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 12px; border-radius: 6px; border-left: 4px solid #800020;">
                                    <i class="fa fa-check-circle" style="color: #28a745; margin-right: 8px;"></i>
                                    <strong style="font-size: 1.05rem;">
                                        <span t-field="amenity.name"/>
                                    </strong>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </div>
        </t>

        <!-- Property Specifications Features -->
        <t t-if="doc.is_facilities and doc.property_specification_ids">
            <div class="mb-4">
                <h3 style="background: linear-gradient(135deg, #800020 0%, #a00030 100%); color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                    <i class="fa fa-cogs" style="margin-right: 8px;"></i>Property Features &amp; Specifications
                </h3>
                <div style="border: 3px solid #800020; border-top: none; padding: 20px; background-color: white; border-radius: 0 0 8px 8px;">
                    <div class="row">
                        <t t-foreach="doc.property_specification_ids" t-as="spec">
                            <div class="col-6 mb-3">
                                <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 12px; border-radius: 6px; border-left: 4px solid #17a2b8;">
                                    <i class="fa fa-check-square" style="color: #17a2b8; margin-right: 8px;"></i>
                                    <strong style="font-size: 1.05rem;">
                                        <span t-field="spec.name"/>
                                    </strong>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </div>
        </t>

        <!-- Nearby Connectivity Section -->
        <t t-if="doc.nearby_connectivity and doc.connectivity_ids">
            <div class="mb-4">
                <h3 style="background: linear-gradient(135deg, #800020 0%, #a00030 100%); color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                    <i class="fa fa-map-signs" style="margin-right: 8px;"></i>Nearby Connectivity
                </h3>
                <table class="table" style="border: 3px solid #800020; margin: 0; background-color: white; border-radius: 0 0 8px 8px;">
                    <thead>
                        <tr style="background: linear-gradient(135deg, #800020 0%, #a00030 100%); color: white;">
                            <th style="padding: 15px; width: 40%; border-right: 1px solid white;">Location</th>
                            <th style="padding: 15px; width: 30%; border-right: 1px solid white;">Type</th>
                            <th style="padding: 15px; width: 30%;">Distance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="doc.connectivity_ids" t-as="conn">
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 15px; font-weight: bold; border-right: 2px solid #ddd;">
                                    <span t-field="conn.connectivity_id.name"/>
                                </td>
                                <td style="padding: 15px; border-right: 2px solid #ddd;">
                                    <span class="badge badge-secondary" style="font-size: 0.9rem; padding: 6px 10px;">
                                        <span t-field="conn.connectivity_id.type"/>
                                    </span>
                                </td>
                                <td style="padding: 15px; color: #800020; font-weight: bold;">
                                    <i class="fa fa-map-marker" style="margin-right: 5px;"></i>
                                    <span t-field="conn.distance"/>
                                    <span t-field="conn.uom_id"/>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>

        <!-- Property Images Gallery -->
        <t t-if="doc.is_images and doc.property_images_ids">
            <p style="page-break-before: always;"/>
            <div class="mb-4">
                <h3 style="background: linear-gradient(135deg, #800020 0%, #a00030 100%); color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                    <i class="fa fa-camera" style="margin-right: 8px;"></i>Property Gallery
                </h3>
                <div style="border: 3px solid #800020; border-top: none; padding: 20px; background-color: white; border-radius: 0 0 8px 8px;">
                    <div class="row">
                        <t t-foreach="doc.property_images_ids" t-as="img">
                            <div class="col-6 mb-4">
                                <div style="border: 2px solid #ddd; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                                    <img t-att-src="image_data_uri(img.image)" style="width: 100%; height: 300px; object-fit: cover;" alt="Property Image"/>
                                    <t t-if="img.name">
                                        <div style="padding: 10px; background-color: #f8f9fa; text-align: center; font-weight: bold;">
                                            <span t-field="img.name"/>
                                        </div>
                                    </t>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </div>
        </t>

        <!-- Floor Plans -->
        <t t-if="doc.is_floor_plan and doc.floreplan_ids">
            <p style="page-break-before: always;"/>
            <div class="mb-4">
                <h3 style="background: linear-gradient(135deg, #800020 0%, #a00030 100%); color: white; padding: 15px; margin: 0; font-size: 1.4rem; font-weight: bold; border-radius: 8px 8px 0 0;">
                    <i class="fa fa-sitemap" style="margin-right: 8px;"></i>Floor Plans
                </h3>
                <div style="border: 3px solid #800020; border-top: none; padding: 20px; background-color: white; border-radius: 0 0 8px 8px;">
                    <t t-foreach="doc.floreplan_ids" t-as="plan">
                        <div class="mb-4">
                            <h4 style="color: #800020; font-size: 1.2rem; margin-bottom: 15px;">
                                <span t-field="plan.name"/>
                            </h4>
                            <div style="border: 2px solid #ddd; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                                <img t-att-src="image_data_uri(plan.image)" style="width: 100%; max-height: 600px; object-fit: contain; background-color: #f8f9fa;" alt="Floor Plan"/>
                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </t>

        <!-- Owner/Contact Information -->
        <div class="mb-4" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 25px; border-radius: 10px; border: 2px solid #800020;">
            <h3 style="color: #800020; font-size: 1.4rem; margin-bottom: 20px; text-align: center;">
                <i class="fa fa-phone" style="margin-right: 8px;"></i>Contact Information
            </h3>
            <div class="row">
                <div class="col-12 text-center">
                    <t t-if="doc.landlord_id">
                        <div style="margin-bottom: 10px;">
                            <strong style="font-size: 1.2rem; color: #800020;">
                                <span t-field="doc.landlord_id"/>
                            </strong>
                        </div>
                    </t>
                    <t t-if="doc.landlord_phone">
                        <div style="margin-bottom: 10px;">
                            <i class="fa fa-phone" style="color: #28a745; margin-right: 8px;"></i>
                            <strong style="font-size: 1.1rem;">
                                <span t-field="doc.landlord_phone"/>
                            </strong>
                        </div>
                    </t>
                    <t t-if="doc.landlord_email">
                        <div style="margin-bottom: 10px;">
                            <i class="fa fa-envelope" style="color: #17a2b8; margin-right: 8px;"></i>
                            <span style="font-size: 1.1rem;">
                                <span t-field="doc.landlord_email"/>
                            </span>
                        </div>
                    </t>
                    <t t-if="doc.website">
                        <div>
                            <i class="fa fa-globe" style="color: #6c757d; margin-right: 8px;"></i>
                            <span style="font-size: 1.1rem;">
                                <span t-field="doc.website"/>
                            </span>
                        </div>
                    </t>
                </div>
            </div>
        </div>

        <!-- Footer Note -->
        <div class="text-center" style="padding: 20px; background-color: #f8f9fa; border-radius: 8px; border: 1px solid #ddd; margin-top: 30px;">
            <p style="margin: 0; color: #666; font-size: 0.95rem; line-height: 1.6;">
                <strong>Note:</strong> This property sales offer is valid as per the date of generation. 
                                All information provided is accurate to the best of our knowledge. 
                                For the latest updates, site visits, or additional information, please contact us directly.
            </p>
            <p style="margin: 10px 0 0 0; color: #800020; font-weight: bold;">
                                Property Reference: <span t-field="doc.property_seq"/>
            </p>
        </div>

    </div>
</t>
</t>
</t>
</template>
</odoo>
